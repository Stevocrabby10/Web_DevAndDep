<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Find and join local darts leagues, track rankings, and manage your performance with Darts Hub - your complete darts community platform.">
    <meta property="og:title" content="Darts Hub - Find Local Darts Leagues">
    <meta property="og:description" content="Join local darts leagues, track rankings, and improve your game with Darts Hub.">
    <meta property="og:type" content="website">
    <title>Darts Hub - Find Local Darts Leagues Near You</title>
    <link rel="stylesheet" href="css/styles.css">
    <!--<link rel="canonical" href="https://dartshub.example.com">-->
</head>
<body>
    <header>
        <div class="container header-content">
            <a href="/" class="logo">üéØ Darts Hub</a>
            <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav">
                <span class="sr-only">Toggle menu</span>
                ‚ò∞
            </button>
            <div class="nav-backdrop" id="nav-backdrop" data-visible="false"></div>
            <nav id="primary-nav" class="primary-nav" aria-label="Main navigation">
                <ul class="nav-list">
                    <li><a href="/" class="nav-link">Home</a></li>
                    <li><a href="/leagues" class="nav-link">Leagues</a></li>
                    <li><a href="/rankings" class="nav-link">Rankings</a></li>
                    <li><a href="/login" class="nav-link">Login</a></li>
                    <li><a href="/register" class="nav-link">Register</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main id="main">
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>Find Darts Leagues Near You</h1>
                        <p>Search local leagues, check live rankings, and track your performance.</p>
                        <div class="hero-buttons">
                            <a href="#search" class="btn btn-primary">Find Leagues Near Me</a>
                            <a href="/login" class="btn btn-secondary">Log In</a>
                        </div>
                    </div>
                    <div class="hero-image">
                        <img src="/img/pub-dart-game-stockcake.jpg" alt="Darts being played at a local pub" loading="lazy">
                    </div>
                </div>
            </div>
        </section>

        <section id="search" class="search-section">
            <div class="container">
                <form class="card" data-component="league-search">
                    <div class="form-group">
                        <label for="locationInput">Location</label>
                        <input type="text" id="locationInput" 
                               placeholder="Enter town or Eircode" 
                               aria-describedby="locationHelp">
                        <small id="locationHelp" class="help-text">Enter your location to find leagues within your selected radius</small>
                    </div>
                    <div class="form-group">
                        <label for="radiusSelect">Search radius</label>
                        <select id="radiusSelect" aria-describedby="radiusHelp">
                            <option value="5">5km</option>
                            <option value="10" selected>10km</option>
                            <option value="25">25km</option>
                            <option value="50">50km</option>
                        </select>
                        <small id="radiusHelp" class="help-text">Select how far you're willing to travel</small>
                    </div>
                    <button type="button" id="searchBtn" class="btn btn-primary">Search Leagues</button>
                </form>
                <div id="searchStatus" aria-live="polite" class="sr-only"></div>
            </div>
        </section>

        <section id="nearby-leagues">
            <div class="container">
                <h2>Nearby Leagues</h2>
                <div class="grid league-grid">
                    <article class="card league-card">
                        <div class="league-card-image">
                            <img src="/img/pub-dart-1.jpg" alt="Traditional pub with darts board" loading="lazy">
                        </div>
                        <div class="league-card-content">
                            <h3>Dublin City Darts League</h3>
                            <p class="league-venue">The Long Hall Pub</p>
                            <div class="league-info">
                                <span class="info-item">üìç Distance: 1.2km</span>
                                <span class="info-item">üìÖ Next Match: Nov 5, 2025</span>
                            </div>
                            <a href="/leagues/dublin-city" class="btn btn-secondary">View League</a>
                        </div>
                    </article>
                    <article class="card league-card">
                        <div class="league-card-image">
                            <img src="/img/pub-dart-2.jpeg" alt="Modern bar with darts setup" loading="lazy">
                        </div>
                        <div class="league-card-content">
                            <h3>Southside Arrows League</h3>
                            <p class="league-venue">O'Brien's Bar</p>
                            <div class="league-info">
                                <span class="info-item">üìç Distance: 2.8km</span>
                                <span class="info-item">üìÖ Next Match: Nov 7, 2025</span>
                            </div>
                            <a href="/leagues/southside-arrows" class="btn btn-secondary">View League</a>
                        </div>
                    </article>
                    <article class="card league-card">
                        <div class="league-card-image">
                            <img src="/img/pub-dart-3.jpeg" alt="Professional darts tournament" loading="lazy">
                        </div>
                        <div class="league-card-content">
                            <h3>Northside Premier Division</h3>
                            <p class="league-venue">The Black Swan</p>
                            <div class="league-info">
                                <span class="info-item">üìç Distance: 4.5km</span>
                                <span class="info-item">üìÖ Next Match: Nov 8, 2025</span>
                            </div>
                            <a href="/leagues/northside-premier" class="btn btn-secondary">View League</a>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section id="rankings-and-table">
            <div class="container">
                <div class="stack-or-grid">
                    <article id="rankings">
                        <div class="table-container">
                            <table>
                                <caption>Top Players (This Week)</caption>
                                <thead>
                                    <tr>
                                        <th scope="col">Rank</th>
                                        <th scope="col">Player</th>
                                        <th scope="col">League</th>
                                        <th scope="col">Pts</th>
                                        <th scope="col">3-Dart Avg</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>John Smith</td>
                                        <td>Dublin City</td>
                                        <td>245</td>
                                        <td>85.32</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Mary O'Connor</td>
                                        <td>Southside</td>
                                        <td>238</td>
                                        <td>83.15</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>James Murphy</td>
                                        <td>Northside</td>
                                        <td>232</td>
                                        <td>82.67</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>Sarah Kelly</td>
                                        <td>Dublin City</td>
                                        <td>229</td>
                                        <td>81.93</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>Michael Walsh</td>
                                        <td>Southside</td>
                                        <td>225</td>
                                        <td>81.45</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </article>

                    <aside id="league-table">
                        <div class="table-container">
                            <table>
                                <caption>Premier League: Standings</caption>
                                <thead>
                                    <tr>
                                        <th scope="col">Pos</th>
                                        <th scope="col">Team</th>
                                        <th scope="col">P</th>
                                        <th scope="col">W</th>
                                        <th scope="col">L</th>
                                        <th scope="col">Legs +/-</th>
                                        <th scope="col">Pts</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>Black Swan A</td>
                                        <td>12</td>
                                        <td>10</td>
                                        <td>2</td>
                                        <td>+24</td>
                                        <td>20</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Long Hall</td>
                                        <td>12</td>
                                        <td>9</td>
                                        <td>3</td>
                                        <td>+18</td>
                                        <td>18</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>O'Brien's</td>
                                        <td>12</td>
                                        <td>7</td>
                                        <td>5</td>
                                        <td>+8</td>
                                        <td>14</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>Royal Oak</td>
                                        <td>12</td>
                                        <td>6</td>
                                        <td>6</td>
                                        <td>-2</td>
                                        <td>12</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>Black Swan B</td>
                                        <td>12</td>
                                        <td>4</td>
                                        <td>8</td>
                                        <td>-12</td>
                                        <td>8</td>
                                    </tr>
                                    <tr>
                                        <td>6</td>
                                        <td>Bridge Inn</td>
                                        <td>12</td>
                                        <td>0</td>
                                        <td>12</td>
                                        <td>-36</td>
                                        <td>0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </aside>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container footer-content">
            <div class="footer-links">
                <a href="/about" class="footer-link">About</a>
                <a href="/privacy" class="footer-link">Privacy</a>
                <a href="/terms" class="footer-link">Terms</a>
                <a href="/contact" class="footer-link">Contact</a>
            </div>
            <small class="copyright">¬© 2025 Darts Hub</small>
        </div>
    </footer>

    <script>
        // Mobile navigation toggle
        (function() {
            const navToggle = document.querySelector('.nav-toggle');
            const primaryNav = document.getElementById('primary-nav');
            const navBackdrop = document.getElementById('nav-backdrop');
            const navLinks = document.querySelectorAll('.nav-link');
            const body = document.body;

            if (!navToggle || !primaryNav || !navBackdrop) return;

            function toggleNav() {
                const isVisible = primaryNav.getAttribute('data-visible') === 'true';
                
                if (isVisible) {
                    closeNav();
                } else {
                    openNav();
                }
            }

            function openNav() {
                primaryNav.setAttribute('data-visible', 'true');
                navBackdrop.setAttribute('data-visible', 'true');
                navToggle.setAttribute('aria-expanded', 'true');
                body.style.overflow = 'hidden'; // Prevent body scrolling when menu is open
            }

            function closeNav() {
                primaryNav.setAttribute('data-visible', 'false');
                navBackdrop.setAttribute('data-visible', 'false');
                navToggle.setAttribute('aria-expanded', 'false');
                body.style.overflow = ''; // Restore scrolling
            }

            // Toggle on button click
            navToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                toggleNav();
            });

            // Close on backdrop click
            navBackdrop.addEventListener('click', closeNav);

            // Close on nav link click
            navLinks.forEach(link => {
                link.addEventListener('click', closeNav);
            });

            // Close on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && primaryNav.getAttribute('data-visible') === 'true') {
                    closeNav();
                }
            });

            // Close on window resize to desktop size
            window.addEventListener('resize', function() {
                if (window.innerWidth > 767 && primaryNav.getAttribute('data-visible') === 'true') {
                    closeNav();
                }
            });
        })();

        // TODO: Hook up geolocation and API calls to /api/leagues?near=...
        // TODO: Update #searchStatus on search start/end and empty results
    </script>
</body>
</html>
